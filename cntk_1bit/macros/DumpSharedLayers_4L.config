HiddenDim=1024

#######################################

command=TTS_CreateNetwork:TTS_DumpSharedLayers

precision=float

ndlMacros=$ConfigDir$\default_macros.ndl
#deviceId=$DeviceNumber$
lockGPU=false
##########################################
#  Blocks common to all pre-training commands
##########################################
#traceLevel=1
    
# Parameter values for the reader
reader=[
    # reader to use
    readerType=HTKMLFReader

	# readMethod=blockRandomize
    readMethod=rollingWindow

    miniBatchMode=Partial
    randomize=Auto
    verbosity=1  

	featIn=[
		dim=$InDim$
		scpFile=$InScpFile$
    ]

    featOut=[
		dim=$OutDim$
		scpFile=$OutScpFile$
    ]
]
TTS_CreateNetwork=[
    action=train
    modelPath=$ModelDir$\$ModelName$.init
    NDLNetworkBuilder=[
		NetworkDescription=$ConfigDir$\create_4layer_regression.ndl
    ]
    SGD=[
        epochSize=0
        minibatchSize=128
        learningRatesPerMB=0.01
        momentumPerMB=0.9
        dropoutRate=0.0
        maxEpochs=0
	                        gradUpdateType=rmsprop
                                rms_wgt_inc=1.2
                                rms_wgt_dec=0.75
                                rms_wgt_max=1
                                rms_wgt_min=1
                                rms_gamma=0.99
    ]  
]

TTS_DumpSharedLayers=[
    action=edit
    SrcModel=$SrcModelPath$
    InitModel=$ModelDir$\$ModelName$.init
    NewModel=$ModelDir$\$ModelName$
    editPath=$ConfigDir$\DumpSharedLayers_4L.mel
]




